<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Houseplant Helper</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <div class="form-section">
            <div class="header-container">
                <h1>Houseplant Helper</h1>
                <span>The Right Plant, Made Simple!</span>
            </div>
            <p>Whether you want an edible herb, a pet-safe plant, or a low-maintenance companion, our guide helps you choose based on sunlight, water, and toxicity needs. Find your perfect match!</p>
            <form id="plant-form" action="/getPlants" method="GET">
                <div class="question">
                    <label for="edible">Is the plant edible?</label>
                    <select name="edible" id="edible">
                        <option value="" selected>No preference</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
                <div class="question">
                    <label for="pets_kids">Do you have pets or kids that might want to eat it?</label>
                    <select name="pets_kids" id="pets_kids">
                        <option value="" selected>No preference</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
                <div class="question">
                    <label for="lifespan">Preference on growing season?</label>
                    <select name="lifespan" id="lifespan">
                        <option value="" selected>No preference</option>
                        <option value="perennial">Perennial</option>
                        <option value="annual">Annual</option>
                    </select>
                </div>
                <div class="question">
                    <label for="water_schedule">Frequency on watering your plants?</label>
                    <select name="water_schedule" id="water_schedule">
                        <option value="" selected>No preference</option>
                        <option value="frequent">Frequent - I have a regular schedule</option>
                        <option value="average">Average - every so often</option>
                        <option value="minimum">Minimum - not frequent at all</option>
                    </select>
                </div>
                <div class="question">
                    <label for="sunlight">How much sunlight do you get?</label>
                    <select name="sunlight" id="sunlight">
                        <option value="" selected>No preference</option>
                        <option value="full_sun">Full Sun - direct light</option>
                        <option value="full_shade">Full Shade - no direct light</option>
                        <option value="part_shade">Part Shade - gets equal sun and shade</option>
                    </select>
                </div>
                <button type="submit">Submit</button>
            </form>
        </div>
        <div class="image-section">
            <% if (plants !== null) { %>
                <% if (plants.length > 0) { %>
                    <% plants.forEach(plant => { %>
                        <div class="plant">
                            <h3><%= plant.common_name %> (<%= plant.scientific_name.join(', ') %>)</h3>
                            <% if (plant.default_image) { %>
                                <img src="<%= plant.default_image.small_url %>" alt="<%= plant.common_name %>">
                            <% } else { %>
                                <img src="img/placeholder_plant.jpg" alt="Default Image">
                            <% } %>
                            <p>Lifecycle: <%= plant.cycle %></p>
                            <p>Watering: <%= plant.watering %></p>
                            <p>Sunlight: <%= plant.sunlight.join(', ') %></p>
                        </div>
                    <% }); %>
                <% } else { %>
                    <p><%= message %></p>
                <% } %>
            <% } else { %>
                <img src="img/splash_plant1.jpg" alt="Greener Thumb Home">
            <% } %>
        </div>
    </div>
</body>
</html>